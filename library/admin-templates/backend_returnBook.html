{% extends "backend.html" %}
{% block title %}Return Book{% endblock %}

{% block content %}
<div class="mdl-grid">
	<h2>Return Book</h2>
	<div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--11-col mdl-grid">
		<form id="searchForm" action='/lib/librarian/backend_returnbook/' method="post">
			{% csrf_token %}
			<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label" style="margin-left:20px;">
				<label for="search_student" class="mdl-textfield__label">Student ID</label>
				<input id="search_student" type="text" class="mdl-textfield__input" name="search_student" required />
			</div>
			<button type="submit" style="margin-left:20px;" class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent" name="submit_search">OK</button>
		</form>
		<div class="mdl-cell mdl-cell--11-col mdl-grid">
		<form id="studentform" action='/lib/librarian/backend_returnbook/' method="post">
			{% csrf_token %}
			<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
			  <thead>
			    <tr>
			    	<th>#</th>
			    	<th style="text-align: center;">Name</th>
			    	<th class="mdl-data-table__cell--non-numeric">Due Date</th>
			    	<th>Price</th>
			    </tr>
			  </thead>
			  <tbody>
			  	{% for book, price in book_list %}
				<tr name="studentTable" value="{{student.user.username}}" id="{{student.user.username}}">
					<td>
						<label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="checkbox-{{student.user.username}}">
							<input name="studentTable" type="checkbox" id="checkbox-{{student.user.username}}" value="checkbox-{{student.user.username}}" class="mdl-checkbox__input">
						</label>
					</td>
					<td class="mdl-data-table__cell--non-numeric">{{book.name}}</td>
					<td class="mdl-data-table__cell--non-numeric">{{book.borrow_date}}</td>
					<td class="mdl-data-table__cell--non-numeric">{{price}}</td>
				</tr>
			    {% endfor %}
			    <tr name="totalprice" id="totalprice" style="background-color: #d9dde8;">
			    	<td></td>
			    	<td><b>Total Price</b></td>
			    	<td></td>
			    	<td></td>
			    </tr>
			  </tbody>
			</table>
		</form>
		</div>
	</div>
</div>
{% endblock %}